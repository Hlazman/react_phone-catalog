(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{28:function(t,e,c){},32:function(t,e,c){"use strict";c.r(e);var n=c(23),s=c.n(n),a=c(6),r=c(4),i=(c(28),c(0)),o=function(){return Object(i.jsx)(a.c,{to:"/",className:"logo",onClick:function(){return window.scrollTo({top:0})},children:Object(i.jsx)("img",{className:"logo__img",src:"img/logo.png",alt:"logo"})})},j=c(2),u=c(8),l=c.n(u),b=c(1),d=c.n(b),O=function(){var t=Object(r.k)().pathname,e=Object(b.useState)(!1),c=Object(j.a)(e,2),n=c[0],s=c[1],a=function(){s(document.body.scrollHeight>window.innerHeight)};return Object(b.useEffect)((function(){return a(),window.addEventListener("resize",a),window.addEventListener("scroll",a),function(){window.removeEventListener("resize",a),window.removeEventListener("scroll",a)}}),[n,t]),Object(i.jsxs)("button",{className:l()("button-top",{isVisible:!n}),type:"button",onClick:function(){return window.scrollTo({top:0})},children:["Back to top",Object(i.jsx)("img",{className:"button-top__img",src:"img/icons/ArrowUp.png",alt:"back"})]})},h=function(){return Object(i.jsxs)("footer",{className:"footer",children:[Object(i.jsx)(o,{}),Object(i.jsxs)("div",{className:"footer__nav",children:[Object(i.jsx)("a",{href:"https://github.com/Hlazman",target:"_blank",rel:"noreferrer",className:"footer__nav__link",children:"Github"}),Object(i.jsx)("a",{href:"https://github.com/Hlazman",target:"_blank",rel:"noreferrer",className:"footer__nav__link",children:"Contacts"}),Object(i.jsx)("a",{href:"https://github.com/Hlazman",target:"_blank",rel:"noreferrer",className:"footer__nav__link",children:"Rights"})]}),Object(i.jsx)(O,{})]})},p=c(7),m=c(5),_=c.n(m);function x(t,e){var c=new URLSearchParams(t.toString());return Object.entries(e).forEach((function(t){var e=Object(j.a)(t,2),n=e[0],s=e[1];null===s?c.delete(n):Array.isArray(s)?(c.delete(n),s.forEach((function(t){c.append(n,t)}))):c.set(n,s)})),c.toString()}var f,g,v,N=function(t){var e=t.isHidden,c=Object(r.k)(),n=Object(a.d)(),s=Object(j.a)(n,2),o=s[0],u=s[1],d=Object(b.useState)(""),O=Object(j.a)(d,2),h=O[0],m=O[1],f=function(t,e){var c=Object(b.useState)(t),n=Object(j.a)(c,2),s=n[0],a=n[1];return Object(b.useEffect)((function(){var c=setTimeout((function(){a(t)}),e);return function(){clearTimeout(c)}}),[t,e]),s}(h,300),g=function(){var t=Object(p.a)(_.a.mark((function t(e){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m(e.target.value);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.useEffect)((function(){u(x(o,{query:f||null}))}),[f]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:l()("searchbar",{isHidden:e}),children:[Object(i.jsx)("img",{className:"searchbar__img",src:"img/icons/search.png",alt:"search"}),Object(i.jsx)("input",{type:"search",placeholder:"Search in ".concat(c.pathname.slice(1)),className:"searchbar__field",value:h,onChange:g})]})})},y=d.a.createContext(0),k=function(t){var e=t.children,c=Object(b.useState)(window.innerWidth),n=Object(j.a)(c,2),s=n[0],a=n[1];return Object(b.useEffect)((function(){var t=function(){var t=window.innerWidth;a(t)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[s]),Object(i.jsx)(y.Provider,{value:s,children:e})},C=function(t,e){var c=Object(b.useState)((function(){try{return JSON.parse(localStorage.getItem(t)||"")||e}catch(c){return e}})),n=Object(j.a)(c,2),s=n[0],a=n[1];return[s,function(e){a(e),localStorage.setItem(t,JSON.stringify(e))}]},S=d.a.createContext({favoritesProducts:[],setFavoritesProducts:function(){}}),w=d.a.createContext({cartProducts:[],setCartProducts:function(){}}),E=function(t){var e=t.children,c=C("favorites",[]),n=Object(j.a)(c,2),s=n[0],a=n[1],r=C("cart",[]),o=Object(j.a)(r,2),u=o[0],l=o[1];return Object(i.jsx)(S.Provider,{value:{favoritesProducts:s,setFavoritesProducts:a},children:Object(i.jsx)(w.Provider,{value:{cartProducts:u,setCartProducts:l},children:e})})},A=function(){var t=Object(r.k)(),e=Object(b.useContext)(y),c="/phones"===t.pathname||"/tablets"===t.pathname||"/accessories"===t.pathname||"/favorites"===t.pathname,n=Object(b.useContext)(S).favoritesProducts,s=Object(b.useContext)(w).cartProducts,u=Object(b.useState)(!1),d=Object(j.a)(u,2),O=d[0],h=d[1];return Object(b.useEffect)((function(){document.addEventListener("click",(function(t){var e=t.target,c=e.classList.contains("navbar__menu"),n=e.classList.contains("navbar__hamburger");c||n||h(!1)}))}),[]),Object(i.jsxs)("nav",{className:"navbar",children:[Object(i.jsx)("input",{type:"checkbox","aria-label":"Toggle menu",className:"navbar__hamburger",checked:O,onChange:function(){return h(!O)}}),Object(i.jsx)("span",{className:"navbar__hamburger-item"}),Object(i.jsx)("span",{className:"navbar__hamburger-item"}),Object(i.jsx)("span",{className:"navbar__hamburger-item"}),Object(i.jsx)(o,{}),Object(i.jsxs)("div",{className:"navbar__menu",children:[Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:Object(i.jsx)(a.c,{className:l()("navbar__link",{"navbar__link-isActive":"/"===t.pathname}),to:"/home",onClick:function(){return h(!1)},children:"Home"})}),Object(i.jsx)("li",{children:Object(i.jsx)(a.c,{to:"/phones",className:l()("navbar__link",{"navbar__link-isActive":"/phones"===t.pathname}),onClick:function(){return h(!1)},children:"Phones"})}),Object(i.jsx)("li",{children:Object(i.jsx)(a.c,{to:"/tablets",className:l()("navbar__link",{"navbar__link-isActive":"/tablets"===t.pathname}),onClick:function(){return h(!1)},children:"Tablets"})}),Object(i.jsx)("li",{children:Object(i.jsx)(a.c,{to:"/accessories",className:l()("navbar__link",{"navbar__link-isActive":"/accessories"===t.pathname}),onClick:function(){return h(!1)},children:"Accessories"})})]}),Object(i.jsxs)("ul",{children:[c&&Object(i.jsx)(N,{isHidden:e<1120}),Object(i.jsx)("li",{children:Object(i.jsxs)(a.c,{"data-after":"favorites",className:l()("navbar__button",{"navbar__button-isActive":"/favorites"===t.pathname}),to:"/favorites",onClick:function(){return h(!1)},children:[Object(i.jsx)("img",{className:"navbar__button-img",src:"/img/icons/favs.png",alt:"favorite"}),n.length>0&&Object(i.jsx)("div",{className:"navbar__count",children:n.length})]})}),Object(i.jsx)("li",{children:Object(i.jsxs)(a.c,{"data-after":"cart",className:l()("navbar__button",{"navbar__button-isActive":"/cart"===t.pathname}),to:"/cart",onClick:function(){return h(!1)},children:[Object(i.jsx)("img",{className:"navbar__button-img",src:"/img/icons/cart.png",alt:"cart"}),s.length>0&&Object(i.jsx)("div",{className:"navbar__count",children:s.length})]})})]})]})]})},P=function(){return Object(i.jsx)("header",{children:Object(i.jsx)(A,{})})},B="https://mate-academy.github.io/react_phone-catalog/api",F=function(){var t="".concat(B,"/products.json");return fetch(t).then((function(t){if(t.ok)return t.json();throw new Error}))},H=function(t){var e="".concat(B,"/products/").concat(t,".json");return fetch(e).then((function(t){if(t.ok)return t.json();throw new Error}))},T=function(t){var e=t.text,c=t.isShowButton,n=void 0===c||c,s=t.additionalClass;return Object(i.jsxs)("div",{className:"no-results",children:[Object(i.jsx)("p",{className:"no-results__text ".concat(s),children:e}),n&&Object(i.jsx)(a.b,{className:"backHome-button",type:"button",to:"/home",children:"Back to Home page"})]})},L=c(10);!function(t){t.NOPAGE="We are sorry. But there is no such page on the site.",t.SEARCH="No products matching your search",t.FETCH="Something went wrong with loading products. Try again later"}(f||(f={})),function(t){t.Newest="age",t.Alphabetically="name",t.Cheapest="price"}(g||(g={})),function(t){t.num1="2",t.num2="4",t.num3="8",t.num4="16",t.All="All"}(v||(v={}));var R=function(t){var e=t.total,c=t.perPage,n=t.currentPage,s=t.onPageChange,r=Object(a.d)(),o=Object(j.a)(r,1)[0],u=function(t,e){for(var c=[],n=t;n<=e;n+=1)c.push(n);return c}(1,Math.ceil(e/c)),b=1===n,d=n===Math.ceil(e/c),O=function(t){d||"next"!==t||s("".concat(n+1)),b||"prev"!==t||s("".concat(n-1))};return Object(i.jsxs)("ul",{className:"pagination","data-cy":"pagination",children:[Object(i.jsx)("li",{children:Object(i.jsx)("button",{type:"button","data-cy":"paginationLeft",className:"pagination__button","aria-disabled":b,onClick:function(){return O("prev")},disabled:b,children:"<"})}),u.map((function(t){return Object(i.jsx)("li",{children:Object(i.jsx)(a.b,{to:{search:x(o,{page:"".concat(t)})},className:l()("pagination__links",{"pagination__links-isActive":n===t}),onClick:function(){return s("".concat(t))},children:t})},t)})),Object(i.jsx)("li",{children:Object(i.jsx)("button",{type:"button","data-cy":"paginationRight",className:"pagination__button","aria-disabled":d,onClick:function(){return O("next")},disabled:d,children:">"})})]})},q=function(t){var e,c=t.type,n=t.id;switch(c){case"phone":e="phones";break;case"tablet":e="tablets";break;case"accessory":e="accessories";break;default:return"/"}return"/".concat(e,"/").concat(n)},M=function(t){var e=t.product,c=Object(b.useContext)(S),n=c.favoritesProducts,s=c.setFavoritesProducts,a=Object(b.useContext)(w),r=a.cartProducts,o=a.setCartProducts,j=function(){return n.find((function(t){return t.id===e.id}))},u=function(){return r.find((function(t){return t.id===e.id}))};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"product-content__card__buttons",children:[Object(i.jsx)("button",{className:l()("product-content__card__buttons-cart",{"product-content__card__buttons-cart-isAdded":u()}),type:"button",onClick:function(){u()?o(r.filter((function(t){return t.id!==e.id}))):o([].concat(Object(L.a)(r),[e]))},children:u()?"Added to cart":"Add to cart"}),Object(i.jsx)("button",{"data-cy":"addToFavorite",className:"product-content__card__buttons-favorites",type:"button",onClick:function(){j()?s(n.filter((function(t){return t.id!==e.id}))):s([].concat(Object(L.a)(n),[e]))},children:Object(i.jsx)("img",{src:j()?"img/icons/favsAdd.png":"img/icons/favs.png",alt:"favorite"})})]})})},I=function(t){var e=t.product,c=Math.ceil(e.price/100*e.discount),n=e.discount>0?"$".concat(e.price-c):"$".concat(e.price),s=0===e.discount?void 0:"$".concat(e.price);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"product-content__card__price",children:[Object(i.jsx)("p",{children:n}),Object(i.jsx)("p",{className:"product-content__card__price-old",children:s})]}),Object(i.jsxs)("div",{className:"product-content__card__description",children:[Object(i.jsxs)("div",{className:"product-content__card__description-items",children:[Object(i.jsx)("p",{className:"product-content__card__description-items__params",children:"Screen"}),Object(i.jsx)("p",{children:e.screen||"-"})]}),Object(i.jsxs)("div",{className:"product-content__card__description-items",children:[Object(i.jsx)("p",{className:"product-content__card__description-items__params",children:"Capacity"}),Object(i.jsx)("p",{children:e.capacity||"-"})]}),Object(i.jsxs)("div",{className:"product-content__card__description-items",children:[Object(i.jsx)("p",{className:"product-content__card__description-items__params",children:"Ram"}),Object(i.jsx)("p",{children:e.ram||"-"})]})]}),Object(i.jsx)(M,{product:e})]})},z=function(t){var e=t.products,c=Object(r.k)(),n="/phones"===c.pathname||"/tablets"===c.pathname||"/accessories"===c.pathname||"/favorites"===c.pathname;return Object(i.jsx)("div",{"data-cy":"cardsContainer",className:l()("product-content",{"product-content-isWrap":n}),children:e.map((function(t){var e=t.id,c=t.type,n=t.name,s=t.imageUrl,r=t.age;return Object(i.jsxs)("div",{className:"product-content__card",children:[Object(i.jsxs)(a.b,{to:q({type:c,id:e}),children:[Object(i.jsx)("img",{className:"product-content__card__img",src:s,alt:n}),Object(i.jsx)("p",{className:"product-content__card__title",children:n})]}),Object(i.jsx)(I,{product:t})]},r)}))})},D=function(t){var e=t.products,c=t.serchResult,n=Object(r.m)(),s=Object(r.k)().pathname,o=Object(a.d)(),u=Object(j.a)(o,2),l=u[0],d=u[1],O=l.get("page")||"",h=l.get("perPage")||"",p=l.get("sort")||"",m=l.get("query")||"",_=Object(b.useState)(h||v.num3),N=Object(j.a)(_,2),y=N[0],k=N[1],C=Object(b.useState)(O||"1"),S=Object(j.a)(C,2),w=S[0],E=S[1],A=Object(b.useState)(p||g.Newest),P=Object(j.a)(A,2),B=P[0],F=P[1],H=Object(b.useState)([]),q=Object(j.a)(H,2),M=q[0],I=q[1],D=Object(b.useState)(!0),W=Object(j.a)(D,2),$=W[0],J=W[1],U=Object(b.useState)(!1),G=Object(j.a)(U,2),Q=G[0],X=G[1],Y=function(){!function(){var t,n=(+w-1)*+y,s=+w*+y>e.length?e.length:+w*+y;t=Object(L.a)(e).slice(n,s),y===v.All&&(t=Object(L.a)(e)),t.length===e.length?J(!1):J(!0);var a=t.sort((function(t,e){switch(B){case g.Newest:return t.age-e.age;case g.Alphabetically:return t.name.localeCompare(e.name);case g.Cheapest:return t.price-e.price;default:return 0}}));if(m){var r=a.filter((function(t){return t.name.toLowerCase().includes(m.toLowerCase())}));return r.length>0?X(!1):X(!0),c(r.length),I(r)}c(0),X(!1),I(a)}(),O&&("1"!==w?n({pathname:s,search:x(l,{page:w})}):d(x(l,{page:w})))};return Object(b.useEffect)((function(){Y()}),[e,w,y,B,m]),Object(i.jsxs)("section",{"data-cy":"productList",className:"product-list",children:[Object(i.jsxs)("div",{className:"product-list__sorting",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{className:"product-list__sorting__title",children:" Sort By "}),Object(i.jsx)("select",{className:"product-list__sorting__select",value:B,onChange:function(t){var e=t.target.value;(e===g.Newest||e===g.Alphabetically||e===g.Cheapest)&&(F(e),d(x(l,{sort:e})))},children:Object.entries(g).map((function(t){return Object(i.jsx)("option",{value:t[1],children:t[0]},t[0])}))})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("span",{className:"product-list__sorting__title",children:" Items on page "}),Object(i.jsx)("select",{className:"product-list__sorting__select",value:y,onChange:function(t){var e=t.target.value;(e===v.All||e===v.num1||e===v.num2||e===v.num3||e===v.num4)&&(k(e),E("1"),d(x(l,{perPage:e})))},children:Object.entries(v).map((function(t){return Object(i.jsx)("option",{value:t[1],children:t[1]},t[0])}))})]})]}),Q&&Object(i.jsx)(T,{text:f.SEARCH,isShowButton:!1}),!Q&&Object(i.jsx)(z,{products:M}),$&&!Q&&Object(i.jsx)(R,{total:e.length,perPage:Number(y),currentPage:Number(w),onPageChange:E})]})},W=function(){return Object(i.jsx)("div",{className:"Loader",children:Object(i.jsx)("div",{className:"Loader__content"})})},$=function(){var t=Object(r.k)(),e=t.pathname.split("/")[1],c=t.pathname.split("/")[2];return Object(i.jsxs)("nav",{"data-cy":"breadCrumbs",className:"breadcrumbs",children:[Object(i.jsx)(a.b,{to:"/",className:"breadcrumbs__link",children:Object(i.jsx)("img",{className:"breadcrumbs__img",src:"img/icons/home.png",alt:"home"})}),Object(i.jsxs)(a.b,{to:"/".concat(e),className:l()("breadcrumbs__link",{"breadcrumbs__link-isActive":e===t.pathname.slice(1)}),children:[Object(i.jsx)("img",{className:"breadcrumbs__img",src:"img/icons/ArrowRight.png",alt:"home"}),e]}),c&&Object(i.jsxs)(a.b,{to:t.pathname,className:l()("breadcrumbs__link",{"breadcrumbs__link-isActive":t.pathname}),children:[Object(i.jsx)("img",{className:"breadcrumbs__img",src:"img/icons/ArrowRight.png",alt:"home"}),c]})]})},J=function(){var t=Object(b.useContext)(y),e=Object(r.k)(),c=Object(b.useState)([]),n=Object(j.a)(c,2),s=n[0],a=n[1],o=Object(b.useState)(!1),u=Object(j.a)(o,2),l=u[0],d=u[1],O=Object(b.useState)(!1),h=Object(j.a)(O,2),m=h[0],x=h[1],g=Object(b.useState)(0),v=Object(j.a)(g,2),k=v[0],C=v[1],S=Object(b.useCallback)(Object(p.a)(_.a.mark((function t(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,F();case 4:e=t.sent,a(e.filter((function(t){return"accessory"===t.type}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x(!0);case 11:return t.prev=11,d(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])}))),[]);return Object(b.useEffect)((function(){S()}),[]),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)($,{}),Object(i.jsxs)("div",{className:"page-heading",children:[Object(i.jsx)("h1",{children:"Accessories"}),Object(i.jsx)("p",{className:"page-heading__count",children:k>0?"Found ".concat(k," models"):"".concat(s.length," models")})]}),Object(i.jsx)(N,{isHidden:t>1120}),l&&Object(i.jsx)(W,{}),!l&&s.length>0&&Object(i.jsx)(D,{products:s,serchResult:C}),!l&&!m&&0===s.length&&Object(i.jsx)(T,{text:"".concat(e.pathname.slice(1)," not found")}),m&&Object(i.jsx)(T,{text:f.FETCH,isShowButton:!1})]})},U=c(20),G=function(t){var e=t.product,c=t.changeQuantity,n=e.quantity,s=Object(b.useState)(n&&n>0?n:1),a=Object(j.a)(s,2),r=a[0],o=a[1];return Object(b.useEffect)((function(){c(e,r)}),[r]),Object(i.jsxs)("div",{className:"cart-list__products__quantity",children:[Object(i.jsx)("button",{className:"cart-list__products__quantity__button",type:"button",onClick:function(){return o((function(t){return t-1}))},disabled:1===r,children:"-"}),Object(i.jsx)("p",{"data-cy":"productQauntity",className:"cart-list__products__quantity__number",children:n}),Object(i.jsx)("button",{className:"cart-list__products__quantity__button","data-cy":"cartDeleteButton",type:"button",onClick:function(){return o((function(t){return t+1}))},children:"+"})]})},Q=function(t){var e=t.products,c=Object(b.useContext)(w).setCartProducts,n=Object(b.useState)(e),s=Object(j.a)(n,2),r=s[0],o=s[1],u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=r.map((function(c){return c.id===t.id?Object(U.a)(Object(U.a)({},t),{},{quantity:e}):Object(U.a)(Object(U.a)({},c),{},{quantity:c.quantity||1})}));o(c)};return Object(b.useEffect)((function(){c(r)}),[r]),Object(i.jsx)("section",{className:"cart-list",children:r.map((function(t){var e=t.id,c=t.type,n=t.name,s=t.imageUrl,j=t.price,l=t.discount,b=t.quantity,d=Math.ceil(j/100*l),O=l>0?j-d:j;return Object(i.jsxs)("div",{className:"cart-list__products",children:[Object(i.jsx)("button",{className:"cart-list__products__delete","data-cy":"cartDeleteButton",type:"button",onClick:function(){return function(t){o(r.filter((function(e){return e.id!==t})))}(e)},children:"x"}),Object(i.jsx)("img",{className:"cart-list__products__image",alt:n,src:s}),Object(i.jsx)(a.b,{className:"cart-list__products__name",to:q({type:c,id:e}),children:Object(i.jsx)("p",{children:n})}),Object(i.jsx)(G,{product:t,changeQuantity:u}),Object(i.jsx)("p",{className:"cart-list__products__price",children:"$".concat(b?O*b:O)})]},e)}))})},X=function(){var t=Object(b.useContext)(w).cartProducts,e=Object(b.useState)(!1),c=Object(j.a)(e,2),n=c[0],s=c[1],a=Object(b.useState)(0),r=Object(j.a)(a,2),o=r[0],u=r[1],l=Object(b.useState)(0),d=Object(j.a)(l,2),O=d[0],h=d[1];return Object(b.useEffect)((function(){if(t.length>0){var e=t.map((function(t){return t.quantity})).reduce((function(t,e){return t&&e&&t+e})),c=0;document.querySelectorAll(".cart-list__products__price").forEach((function(t){var e;c+=Number(null===(e=t.textContent)||void 0===e?void 0:e.slice(1))})),u(e),h(c)}}),[t]),Object(i.jsxs)("div",{className:"cart-checkout",children:[Object(i.jsxs)("div",{className:"cart-checkout__info",children:[Object(i.jsx)("p",{className:"cart-checkout__info__price",children:"$".concat(O)}),Object(i.jsx)("p",{className:"cart-checkout__info__total",children:"Total for ".concat(o," items")})]}),Object(i.jsx)("button",{className:"cart-checkout__button",type:"button",onClick:function(){s(!0),setTimeout((function(){return s(!1)}),3e3)},children:"Checkout"}),n&&Object(i.jsx)(T,{text:"We are sorry, but this feature is not implemented yet",isShowButton:!1,additionalClass:"cart-checkout__text"})]})},Y=function(){var t=Object(r.m)();return Object(i.jsxs)("button",{"data-cy":"backButton",className:"back-button",type:"button",onClick:function(){return t(-1)},children:[Object(i.jsx)("img",{className:"back-button__img",src:"img/icons/backButton.png",alt:"back"}),"Back"]})},V=function(){var t=Object(b.useContext)(w).cartProducts,e=Object(r.k)(),c=Object(b.useState)([]),n=Object(j.a)(c,2),s=n[0],a=n[1],o=Object(b.useState)(!1),u=Object(j.a)(o,2),l=u[0],d=u[1];return Object(b.useEffect)((function(){a(t),d(!1)}),[t]),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsxs)("div",{className:"page-heading",children:[Object(i.jsx)(Y,{}),Object(i.jsx)("h1",{children:"Cart"})]}),l&&Object(i.jsx)(W,{}),!l&&s.length>0&&Object(i.jsxs)("section",{className:"cart",children:[Object(i.jsx)(Q,{products:s}),Object(i.jsx)(X,{})]}),!l&&0===s.length&&Object(i.jsx)(T,{text:"Your ".concat(e.pathname.slice(1)," is empty")})]})},K=function(){var t=Object(b.useContext)(y),e=Object(b.useContext)(S).favoritesProducts,c=Object(r.k)(),n=Object(b.useState)([]),s=Object(j.a)(n,2),a=s[0],o=s[1],u=Object(b.useState)(!1),l=Object(j.a)(u,2),d=l[0],O=l[1],h=Object(b.useState)(0),p=Object(j.a)(h,2),m=p[0],_=p[1];return Object(b.useEffect)((function(){o(e),O(!1)}),[e]),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)($,{}),Object(i.jsxs)("div",{className:"page-heading",children:[Object(i.jsx)("h1",{children:"Favorites"}),Object(i.jsx)("p",{className:"page-heading__count",children:m>0?"Found ".concat(m," models"):"".concat(a.length," models")})]}),Object(i.jsx)(N,{isHidden:t>1120}),d&&Object(i.jsx)(W,{}),!d&&a.length>0&&Object(i.jsx)(D,{products:a,serchResult:_}),!d&&0===a.length&&Object(i.jsx)(T,{text:"".concat(c.pathname.slice(1)," not found")})]})},Z=[{pic:"img/Carousel/Carousel_img_1.png",alt:"phones"},{pic:"img/Carousel/Carousel_img_2.jpg",alt:"tablets"},{pic:"img/Carousel/Carousel_img_3.jpg",alt:"accessories"}],tt=function(){var t=Object(b.useContext)(y),e=Object(b.useState)(0),c=Object(j.a)(e,2),n=c[0],s=c[1],a=Object(b.useState)(0),r=Object(j.a)(a,2),o=r[0],u=r[1],d=Object(b.useState)(!0),O=Object(j.a)(d,2),h=O[0],p=O[1],m=t>=1140?1040:t-66,_=Z.length-1,x=_*m,f=function(){s(Math.max(n-m,-x)),u(o===_?0:o+1),n===-x&&s(0)};return Object(b.useEffect)((function(){var t=setInterval((function(){h&&f()}),5e3);return function(){clearInterval(t)}}),[n]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("section",{className:"carousel",children:[Object(i.jsx)("button",{className:"carousel__button",type:"button",onClick:function(){p(!1),s(Math.min(n+m,0)),u(0===o?_:o-1),0===n&&s(-x)},children:"<"}),Object(i.jsx)("div",{className:"carousel__content",children:Z.map((function(t){return Object(i.jsx)("img",{width:m,className:"carousel__images",src:t.pic,alt:t.alt,style:{transform:"translateX(".concat(n,"px)")}},t.alt)}))}),Object(i.jsx)("button",{className:"carousel__button",type:"button",onClick:function(){p(!1),f()},children:">"})]}),Object(i.jsx)("div",{className:"carousel__dots",children:Z.map((function(t,e){return Object(i.jsx)("div",{className:l()("carousel__dots__item",{"carousel__dots__item-isActive":o===e})},t.pic)}))})]})},et=[{url:"img/Category/phones.png",type:"phones",background:"#fcdbc1",count:0},{url:"img/Category/tablets.png",type:"tablets",background:"#8d8d92",count:0},{url:"img/Category/accessories.png",type:"accessories",background:"#973d5f",count:0}],ct=function(t){var e=t.products;return et[0].count=e.filter((function(t){return"phone"===t.type})).length,et[1].count=e.filter((function(t){return"tablet"===t.type})).length,et[2].count=e.filter((function(t){return"accessory"===t.type})).length,Object(i.jsxs)("section",{className:"category",children:[Object(i.jsx)("h1",{className:"category__title",children:" Shop by category "}),Object(i.jsx)("div",{className:"category__content","data-cy":"categoryLinksContainer",children:et.map((function(t){return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"category__content__img",style:{backgroundColor:t.background},children:Object(i.jsx)(a.b,{to:"/".concat(t.type),children:Object(i.jsx)("img",{className:"category__content__img__item",src:t.url,alt:t.type})})}),Object(i.jsx)("div",{className:"category__content__name",children:Object(i.jsx)(a.b,{to:"/".concat(t.type),className:"category__content__name__item",children:"phones"===t.type?"mobile ".concat(t.type):t.type})}),Object(i.jsx)("p",{className:"category__content__count",children:"".concat(t.count," models")})]},t.type)}))})]})},nt=function(t){var e=t.products,c=t.title,n=Object(b.useContext)(y),s=Object(b.useState)(0),a=Object(j.a)(s,2),r=a[0],o=a[1],u=n>480?284:450,l=function(){return n<1120&&n>480?2:n<=480?1:4},d=u*l(),O=u*(e.length-l());return Object(i.jsxs)("section",{className:"slider",children:[Object(i.jsxs)("div",{className:"slider__header",children:[Object(i.jsx)("h1",{className:"slider__header__title",children:c}),Object(i.jsxs)("div",{className:"slider__header__buttons",children:[Object(i.jsx)("button",{type:"button",className:"slider__header__buttons__button",onClick:function(){o(Math.min(r+d,0))},disabled:0===r,children:"<"}),Object(i.jsx)("button",{type:"button",className:"slider__header__buttons__button",onClick:function(){o(Math.max(r-d,-O))},disabled:r===-O,children:">"})]})]}),Object(i.jsx)("div",{className:"slider-content",style:{transform:"translateX(".concat(r,"px)")},children:Object(i.jsx)(z,{products:e})})]})},st=function(){var t=Object(b.useState)([]),e=Object(j.a)(t,2),c=e[0],n=e[1],s=Object(b.useState)([]),a=Object(j.a)(s,2),r=a[0],o=a[1],u=Object(b.useState)([]),l=Object(j.a)(u,2),d=l[0],O=l[1],h=Object(b.useState)(!1),m=Object(j.a)(h,2),x=m[0],g=m[1],v=Object(b.useState)(!1),N=Object(j.a)(v,2),y=N[0],k=N[1],C=Object(b.useCallback)(Object(p.a)(_.a.mark((function t(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.prev=1,t.next=4,F();case 4:e=t.sent,n(e),o(e.filter((function(t){return t.discount>0}))),O(e.filter((function(t){return 0===t.discount}))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),k(!0);case 13:return t.prev=13,g(!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])}))),[]);return Object(b.useEffect)((function(){C()}),[]),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)(tt,{}),x&&Object(i.jsx)(W,{}),!x&&!y&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(nt,{products:r,title:"Hot prices"}),0===r.length&&Object(i.jsx)(T,{text:"No Products with discount",isShowButton:!1})]}),y&&Object(i.jsx)(T,{text:f.FETCH,isShowButton:!1}),Object(i.jsx)(ct,{products:c}),x&&Object(i.jsx)(W,{}),!x&&!y&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(nt,{products:d,title:"Brand new models"}),0===d.length&&Object(i.jsx)(T,{text:"No new models",isShowButton:!1})]}),y&&Object(i.jsx)(T,{text:f.FETCH,isShowButton:!1})]})},at=function(){return Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)("div",{className:"page-heading",children:Object(i.jsx)("h1",{children:"Page not found"})}),Object(i.jsx)(T,{text:f.NOPAGE})]})},rt=function(){var t=Object(b.useContext)(y),e=Object(r.k)(),c=Object(b.useState)([]),n=Object(j.a)(c,2),s=n[0],a=n[1],o=Object(b.useState)(!1),u=Object(j.a)(o,2),l=u[0],d=u[1],O=Object(b.useState)(!1),h=Object(j.a)(O,2),m=h[0],x=h[1],g=Object(b.useState)(0),v=Object(j.a)(g,2),k=v[0],C=v[1],S=Object(b.useCallback)(Object(p.a)(_.a.mark((function t(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,F();case 4:e=t.sent,a(e.filter((function(t){return"phone"===t.type}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x(!0);case 11:return t.prev=11,d(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])}))),[]);return Object(b.useEffect)((function(){S()}),[]),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)($,{}),Object(i.jsxs)("div",{className:"page-heading",children:[Object(i.jsx)("h1",{children:"Mobile phones"}),Object(i.jsx)("p",{className:"page-heading__count",children:k>0?"Found ".concat(k," models"):"".concat(s.length," models")})]}),Object(i.jsx)(N,{isHidden:t>1120}),l&&Object(i.jsx)(W,{}),!l&&s.length>0&&Object(i.jsx)(D,{products:s,serchResult:C}),!l&&!m&&0===s.length&&Object(i.jsx)(T,{text:"".concat(e.pathname.slice(1)," not found")}),m&&Object(i.jsx)(T,{text:f.FETCH,isShowButton:!1})]})},it=function(t){var e=t.images,c=t.id,n=Object(b.useState)(null===e||void 0===e?void 0:e[0]),s=Object(j.a)(n,2),a=s[0],r=s[1];return Object(i.jsxs)("div",{className:"product-details__images",children:[Object(i.jsx)("div",{className:"product-details__images__buttons",children:null===e||void 0===e?void 0:e.map((function(t){return Object(i.jsx)("button",{type:"button",className:l()("product-details__images__buttons__button",{"product-details__images__buttons__button-isActive":t===a}),onClick:function(){r(t)},children:Object(i.jsx)("img",{className:"product-details__images__buttons__img",alt:c,src:t})},t)}))}),Object(i.jsx)("div",{className:"product-details__images__main-image",children:Object(i.jsx)("img",{alt:c,src:a})})]})},ot=function(t){var e=t.value,c=t.prop;return Object(i.jsxs)("div",{className:"product-details__section__tech-specs",children:[Object(i.jsx)("p",{className:"product-details__section__tech-specs__prop",children:c}),Object(i.jsx)("p",{className:"product-details__section__tech-specs__value",children:e||"-"})]})},jt=function(t){var e=t.productBasic,c=t.productDetails;return Object(i.jsxs)("section",{className:"product-details",children:[Object(i.jsx)(it,{images:c.images,id:c.id}),Object(i.jsx)("div",{className:"product-details__product-card",children:Object(i.jsx)(I,{product:e})}),Object(i.jsxs)("div",{"data-cy":"productDescription",className:"product-details__section",children:[Object(i.jsx)("h2",{className:"product-details__section__title",children:"About"}),Object(i.jsx)("h3",{className:"product-details__section__subtitle",children:e.name}),Object(i.jsx)("p",{className:"product-details__section__description",children:e.snippet}),Object(i.jsx)("h3",{className:"product-details__section__subtitle",children:"Description"}),Object(i.jsx)("p",{className:"product-details__section__description",children:c.description}),Object(i.jsx)("h3",{className:"product-details__section__subtitle",children:"Additional features"}),Object(i.jsx)("p",{className:"product-details__section__description",children:c.additionalFeatures||"none"})]}),Object(i.jsxs)("div",{className:"product-details__section",children:[Object(i.jsx)("h2",{className:"product-details__section__title",children:"Tech specs"}),Object(i.jsx)(ot,{prop:"Screen",value:e.screen}),Object(i.jsx)(ot,{prop:"Resolution",value:c.display.screenResolution}),Object(i.jsx)(ot,{prop:"Processor",value:c.hardware.cpu}),Object(i.jsx)(ot,{prop:"Battery",value:c.battery.type}),Object(i.jsx)(ot,{prop:"Capacity",value:e.capacity}),Object(i.jsx)(ot,{prop:"RAM",value:e.ram}),Object(i.jsx)(ot,{prop:"Camera",value:c.camera.primary}),Object(i.jsx)(ot,{prop:"Cell",value:c.connectivity.cell})]})]})},ut=function(){var t=Object(r.o)().productId,e=Object(r.k)(),c=Object(b.useState)(),n=Object(j.a)(c,2),s=n[0],a=n[1],o=Object(b.useState)(),u=Object(j.a)(o,2),l=u[0],d=u[1],O=Object(b.useState)([]),h=Object(j.a)(O,2),m=h[0],x=h[1],g=Object(b.useState)(!1),v=Object(j.a)(g,2),N=v[0],y=v[1],k=Object(b.useState)(!1),C=Object(j.a)(k,2),S=C[0],w=C[1],E=Object(b.useState)(!1),A=Object(j.a)(E,2),P=A[0],B=A[1],R=Object(b.useCallback)(Object(p.a)(_.a.mark((function e(){var c,n,s,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),w(!1),e.prev=2,e.next=5,F();case 5:return c=e.sent,n=c.find((function(e){return e.id===t})),B(!n),e.next=10,H(t);case 10:s=e.sent,r=Object(L.a)(c).sort((function(){return.5-Math.random()})),a(s),d(n),x(r),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),w(!0);case 20:return e.prev=20,y(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,17,20,23]])}))),[t,e]);return Object(b.useEffect)((function(){R()}),[t,e]),Object(i.jsx)(i.Fragment,{children:P?Object(i.jsx)(at,{}):Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)($,{}),Object(i.jsxs)("div",{className:"page-heading",children:[Object(i.jsx)(Y,{}),Object(i.jsx)("h1",{children:null===s||void 0===s?void 0:s.name})]}),N&&Object(i.jsx)(W,{}),S&&Object(i.jsx)(T,{text:f.FETCH,isShowButton:!1}),!N&&!S&&l&&s&&Object(i.jsx)(jt,{productDetails:s,productBasic:l}),!N&&!S&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(nt,{products:m,title:"You may also like"}),0===m.length&&Object(i.jsx)(T,{text:"No suggested product",isShowButton:!1})]})]})})},lt=function(){var t=Object(b.useContext)(y),e=Object(r.k)(),c=Object(b.useState)([]),n=Object(j.a)(c,2),s=n[0],a=n[1],o=Object(b.useState)(!1),u=Object(j.a)(o,2),l=u[0],d=u[1],O=Object(b.useState)(!1),h=Object(j.a)(O,2),m=h[0],x=h[1],g=Object(b.useState)(0),v=Object(j.a)(g,2),k=v[0],C=v[1],S=Object(b.useCallback)(Object(p.a)(_.a.mark((function t(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,F();case 4:e=t.sent,a(e.filter((function(t){return"tablet"===t.type}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),x(!0);case 11:return t.prev=11,d(!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])}))),[]);return Object(b.useEffect)((function(){S()}),[]),Object(i.jsxs)("main",{className:"main",children:[Object(i.jsx)($,{}),Object(i.jsxs)("div",{className:"page-heading",children:[Object(i.jsx)("h1",{children:"Tablets"}),Object(i.jsx)("p",{className:"page-heading__count",children:k>0?"Found ".concat(k," models"):"".concat(s.length," models")})]}),Object(i.jsx)(N,{isHidden:t>1120}),l&&Object(i.jsx)(W,{}),!l&&s.length>0&&Object(i.jsx)(D,{products:s,serchResult:C}),!l&&!m&&0===s.length&&Object(i.jsx)(T,{text:"".concat(e.pathname.slice(1)," not found")}),m&&Object(i.jsx)(T,{text:f.FETCH,isShowButton:!1})]})},bt=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(P,{}),Object(i.jsxs)(r.d,{children:[Object(i.jsx)(r.b,{path:"/",element:Object(i.jsx)(st,{})}),Object(i.jsx)(r.b,{path:"/home",element:Object(i.jsx)(r.a,{to:"/",replace:!0})}),Object(i.jsxs)(r.b,{path:"/phones",children:[Object(i.jsx)(r.b,{index:!0,element:Object(i.jsx)(rt,{})}),Object(i.jsx)(r.b,{path:":productId",element:Object(i.jsx)(ut,{})})]}),Object(i.jsxs)(r.b,{path:"/tablets",children:[Object(i.jsx)(r.b,{index:!0,element:Object(i.jsx)(lt,{})}),Object(i.jsx)(r.b,{path:":productId",element:Object(i.jsx)(ut,{})})]}),Object(i.jsxs)(r.b,{path:"/accessories",children:[Object(i.jsx)(r.b,{index:!0,element:Object(i.jsx)(J,{})}),Object(i.jsx)(r.b,{path:":productId",element:Object(i.jsx)(ut,{})})]}),Object(i.jsx)(r.b,{path:"/favorites",element:Object(i.jsx)(K,{})}),Object(i.jsx)(r.b,{path:"/cart",element:Object(i.jsx)(V,{})}),Object(i.jsx)(r.b,{path:"*",element:Object(i.jsx)(at,{})})]}),Object(i.jsx)(h,{})]})};c(31);s.a.render(Object(i.jsx)(a.a,{children:Object(i.jsx)(k,{children:Object(i.jsx)(E,{children:Object(i.jsx)(bt,{})})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.ee5fd5d7.chunk.js.map